<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Watch â€” Reese's TV</title>
  <meta name="theme-color" content="#000" />
  <link rel="icon" href="img/favicon.png" type="image/png" />
  <link rel="apple-touch-icon" href="img/favicon.png" />
  <link rel="stylesheet" href="reflix.css" />
  <script defer src="app.js"></script>
</head>
<body>
  
<header class="topbar">
  <div class="container topbar-inner">
    <a class="brand" href="index.html" aria-label="Reese's TV">
      <img src="img/logo-full.png" alt="Reese's TV" />
    </a>
    <nav class="nav">
      <a href="index.html" data-nav="home">Home</a>
      <a href="shows.html" data-nav="shows">Shows</a>
      <a href="movies.html" data-nav="movies">Movies</a>
      <a href="mylist.html" data-nav="mylist">My List</a>
    </nav>
    <div class="flex-grow"></div>
    <div class="search">
      <input id="q" placeholder="Search" />
      <a class="nav" href="signin.html" style="padding:8px 12px;border-radius:999px;background:var(--pill)">Sign In</a>
    </div>
  </div>
</header>
<script>
  // highlight active nav
  (function(){
    const map = { "index.html":"home", "shows.html":"shows", "movies.html":"movies", "mylist.html":"mylist" };
    const here = location.pathname.split('/').pop() || "index.html";
    const k = map[here];
    if(k){
      const a = document.querySelector('.nav a[data-nav="'+k+'"]');
      if(a) a.classList.add('active');
    }
  })();
</script>

  <div class="player-wrap">
    <video id="player" controls playsinline>
      <source src="" type="video/mp4" />
    </video>
    <div class="player-controls">
      <button id="fsBtn" class="player-btn">Full Screen</button>
    </div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', function(){
      const v = document.getElementById('player');
      // attempt to parse ?src=
      const p = new URLSearchParams(location.search);
      const src = p.get('src');
      if(src) v.querySelector('source').src = src;
      v.load();
      document.getElementById('fsBtn').addEventListener('click', () => {
        const wrap = document.querySelector('.player-wrap');
        if (!document.fullscreenElement) { wrap.requestFullscreen?.(); }
        else { document.exitFullscreen?.(); }
      });
    });
  </script>
</body>
</html>